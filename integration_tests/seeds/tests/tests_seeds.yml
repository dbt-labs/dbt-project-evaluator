version: 2

seeds:
  - name: test_fct_untested_models
    tests:
      - dbt_utils.equality:
          compare_model: ref('fct_untested_models')

  - name: test_fct_test_coverage
    config:
      column_types:
        total_models: decimal
        total_tests: decimal
        tested_models: decimal
        test_coverage_pct: float
        test_to_model_ratio: float
        marts_test_coverage_pct: float
    tests:
      - dbt_utils.equality:
          compare_model: ref('fct_test_coverage')
          compare_columns:
            - total_models
            - total_tests
            - tested_models
            - test_coverage_pct
            - test_to_model_ratio
            - marts_test_coverage_pct
